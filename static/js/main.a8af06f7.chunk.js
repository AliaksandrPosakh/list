(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(t,e,n){t.exports=n(38)},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(18),r=n.n(i),d=n(6),c=n(7),u=n(10),s=n(8),l=n(9),f=function(t){return a.a.createElement("div",{className:"item"},a.a.createElement("input",{type:"checkbox"}),a.a.createElement("span",null,t.item.text),a.a.createElement("button",{onClick:t.editTodoText},"edit"),a.a.createElement("button",{className:"close",onClick:t.removeTodo},"x"),a.a.createElement("br",null))},O=function(t){return a.a.createElement("div",{className:"list"},t.children)},p=n(1),T=n(3),h="ADD_TODO",m="REMOVE_TODO",b="EDIT_TODO",v="OPEN_EDIT_FORM",E="CLOSE_EDIT_FORM",j="LOGIN",y="GET_DATA",k=n(2),g="todo";function w(){var t=localStorage.getItem(g);return null==t||""===t?[]:JSON.parse(t)}function x(t){localStorage.setItem(g,JSON.stringify(t))}var C={saveTodo:function(t){return new Promise(function(e){setTimeout(function(){var n=w();n.push(t),x(n),e()},100)})},getTodoList:function(){return new Promise(function(t){setTimeout(function(){t(w())},100)})},editTodoById:function(t,e){return new Promise(function(n){setTimeout(function(){x(w().map(function(n){return n.id===t?Object(k.a)({},n,{text:e}):n})),n()},100)})},removeTodoById:function(t){return new Promise(function(e){setTimeout(function(){x(w().filter(function(e){return e.id!==t})),e()},100)})}},_=n(20),I=n.n(_);var D=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).state={text:""},n.handleChange=n.handleChange.bind(Object(p.a)(Object(p.a)(n))),n.addNewTodo=n.addNewTodo.bind(Object(p.a)(Object(p.a)(n))),n}return Object(l.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){this.setState({text:t.target.value})}},{key:"addNewTodo",value:function(){(0,this.props.addTodo)(this.state.text),this.setState({text:""})}},{key:"render",value:function(){return a.a.createElement("header",null,a.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.text,placeholder:"Add..."}),a.a.createElement("button",{onClick:this.addNewTodo},"Add"))}}]),e}(o.Component),N=Object(T.b)(function(t){return{todos:t.listOfTodo}},{addTodo:function(t){return function(e){var n=function(t){return{text:t,id:I()()}}(t);C.saveTodo(n).then(function(){e({type:h,payload:{todoItem:n}})})}}})(D),S=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).onSaveButtonClick=function(){var t=n.props,e=t.editTodo,o=t.closeEditForm;e(n.props.task.id,n.state.editText),o()},n.state={editText:t.task.text},n.handleChange=n.handleChange.bind(Object(p.a)(Object(p.a)(n))),n}return Object(l.a)(e,t),Object(c.a)(e,[{key:"handleChange",value:function(t){this.setState({editText:t.target.value})}},{key:"render",value:function(){return a.a.createElement("p",{className:"editForm"},a.a.createElement("input",{onChange:this.handleChange,value:this.state.editText}),a.a.createElement("button",{onClick:this.onSaveButtonClick},"save"))}}]),e}(o.Component),L=Object(T.b)(function(t){return{todos:t.listOfTodo,editForm:t.isOpen}},{closeEditForm:function(){return{type:E}},editTodo:function(t,e){return function(n){C.editTodoById(t,e).then(function(){n({type:b,payload:{id:t,text:e}})})}}})(S),F=(n(33),function(t){function e(){return Object(d.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.getData)()}},{key:"renderTaskBlock",value:function(){var t=this,e=this.props,n=e.removeTodo,o=e.openEditForm;if(this.props.editForm){var i=this.props.todos.find(function(e){return e.id===t.props.editedTaskId});return i?a.a.createElement(L,{task:i}):null}return this.props.todos.length>0?a.a.createElement(O,null,this.props.todos.map(function(e){return a.a.createElement(f,{editTodoText:o.bind(t,e.id),key:e.id,item:e,removeTodo:n.bind(t,e.id)})})):null}},{key:"render",value:function(){return console.log("render app",this.props),a.a.createElement("div",null,a.a.createElement(N,null),this.renderTaskBlock())}}]),e}(o.Component)),R=Object(T.b)(function(t){return{todos:t.todoListReducer.listOfTodo,editForm:t.todoListReducer.isOpen,editedTaskId:t.todoListReducer.editedTaskId,usersList:t.usersList}},{removeTodo:function(t){return function(e){C.removeTodoById(t).then(function(){e({type:m,payload:t})})}},openEditForm:function(t){return{type:v,payload:t}},getData:function(){return function(t){C.getTodoList().then(function(e){console.log(e),t({type:y,newTodoList:e})})}}})(F),B=(n(37),n(4)),P=n(21),M=n(12),A={listOfTodo:[],isOpen:!1,editedTaskId:null};var J=[];var X=Object(B.c)({loginReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return[].concat(Object(M.a)(t),[e.payload]);default:return t}},todoListReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:var n=t.listOfTodo.filter(function(t){return t.id!==e.payload});return Object(k.a)({},t,{listOfTodo:n});case b:var o=t.listOfTodo.map(function(t){return t.id===e.payload.id?Object(k.a)({},t,{text:e.payload.text}):t});return Object(k.a)({},t,{listOfTodo:o});case h:var a=[].concat(Object(M.a)(t.listOfTodo),[e.payload.todoItem]);return Object(k.a)({},t,{listOfTodo:a});case v:return Object(k.a)({},t,{isOpen:!0,editedTaskId:e.payload});case E:return Object(k.a)({},t,{isOpen:!1,editedTaskId:null});case y:var i=e.newTodoList;return Object(k.a)({},t,{listOfTodo:i});default:return t}}}),V=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):B.d)(Object(B.a)(P.a)),G=Object(B.e)(X,V);r.a.render(a.a.createElement(T.a,{store:G},a.a.createElement(R,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a8af06f7.chunk.js.map